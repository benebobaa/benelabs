---
const navItems = [
  { href: '/', label: 'Home' },
  { href: '/blog', label: 'Blog' },
  { href: '/projects', label: 'Projects' },
  { href: '/about', label: 'About' },
  { href: '/contact', label: 'Contact' },
];

const currentPath = Astro.url.pathname;
const isActive = (href) =>
  href === '/'
    ? currentPath === href
    : currentPath === href || currentPath.startsWith(`${href}/`);
---

<header class="site-container pt-8">
  <div class="flex flex-wrap items-center justify-between gap-6">
    <a href="/" class="flex items-center gap-3">
      <span class="grid h-11 w-11 place-items-center rounded-[14px] bg-[var(--color-accent)] text-sm font-semibold text-white">
        BL
      </span>
      <div>
        <div class="text-lg font-semibold text-[var(--color-ink)]">BeneLabs</div>
        <div class="text-sm text-[var(--color-ink-subtle)]">Calm product research studio</div>
      </div>
    </a>
    <nav class="hidden items-center gap-2 text-sm font-medium text-[var(--color-ink-subtle)] md:flex">
      {navItems.map((item) => (
        <a
          href={item.href}
          aria-current={isActive(item.href) ? 'page' : undefined}
          class:list={[
            'rounded-full px-3 py-2 transition',
            isActive(item.href)
              ? 'bg-white text-[var(--color-ink)] shadow-sm'
              : 'hover:text-[var(--color-ink)]',
          ]}
        >
          {item.label}
        </a>
      ))}
    </nav>
    <div class="hidden md:flex">
      <a class="button-primary" href="/contact">Start a project</a>
    </div>
  </div>
  <div class="mt-5 flex flex-wrap gap-2 md:hidden">
    {navItems.map((item) => (
      <a
        href={item.href}
        aria-current={isActive(item.href) ? 'page' : undefined}
        class:list={[
          'rounded-full border px-3 py-2 text-sm font-medium',
          isActive(item.href)
            ? 'border-transparent bg-white text-[var(--color-ink)] shadow-sm'
            : 'border-[var(--color-border)] text-[var(--color-ink-subtle)]',
        ]}
      >
        {item.label}
      </a>
    ))}
    <a class="button-primary text-sm" href="/contact">Start a project</a>
  </div>
</header>
